<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Journal | DTA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="journal.css">
    <script src="../shared-header.js" data-base=".." data-target="site-header" defer></script>
    <script src="../script.js" defer></script>
    <script src="journal.js" defer></script>
    <style>
        /* Custom Tailwind styles for that Swedish design feel */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F8F8; /* Off-white for a softer feel */
            color: #1a1a1a;
        }
        .fade-in {
            animation: fadeIn 0.8s ease-in-out forwards;
            opacity: 0;
        }
        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
        /* Staggered fade-in for grid items */
        .journal-grid-item {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.5s ease-out forwards;
        }
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header with Logo and Navigation -->
    <div id="site-header"></div>
    <!-- Main Content -->
    <main class="pt-24 md:pt-32">
        <div class="container mx-auto px-6 md:px-8">
            <h1 class="text-5xl md:text-7xl font-light mb-12 md:mb-20 fade-in text-center">Journal</h1>

            <!-- Dynamic Journal Grid -->
            <div id="journal-grid" class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12">
                <!-- Journal entries will be loaded here by JavaScript -->
            </div>
        </div>
    
    <!-- Partners Section -->
   <section class="py-20 partners-on-light" id="partners">
     <div class="container mx-auto px-6">
       <h2 class="text-3xl md:text-5xl font-bold text-center mb-12" data-key="partners_title">Our Partners</h2>
       <p class="text-neutral-300 text-center max-w-3xl mx-auto -mt-8 mb-12" data-key="partners_subtitle">
         Our journey would not be possible without the generous support of our partners.
       </p>
       <div id="partners-grid" class="partners-grid grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8 items-center"></div>
     </div>
   </section>
    <script>
    (function() {
      async function loadPartners() {
        const grid = document.getElementById('partners-grid');
        if (!grid) return;
        try {
          const res = await fetch('../assets/images/partners/partners.json', { cache: 'no-store' });
          const partners = await res.json();
          // Render anchors with inline SVG/IMG markup
          partners.forEach(p => {
            const a = document.createElement('a');
            a.href = p.href || '#';
            a.setAttribute('aria-label', p.name || 'Partner');
            a.className = 'group aspect-[3/2] md:aspect-[4/3] bg-transparent';
            const span = document.createElement('span');
            span.className = 'partner-logo';
            // Insert SVG markup string if provided, else fallback to <img src="...">
            if (p.svg && typeof p.svg === 'string' && p.svg.trim().startsWith('<')) {
              span.innerHTML = p.svg;
            } else if (p.src) {
              const img = document.createElement('img');
              img.src = p.src;
              img.alt = p.name || 'Partner logo';
              img.loading = 'lazy';
              span.appendChild(img);
            } else {
              span.textContent = p.name || 'Partner';
            }
            a.appendChild(span);
            grid.appendChild(a);
          });
        } catch (e) {
          console.error('Partners load failed:', e);
          grid.innerHTML = '<p class="text-red-500">Could not load partners.</p>';
        }
      }
      document.addEventListener('DOMContentLoaded', loadPartners);
    })();
    </script>
    
</main>

    <!-- Footer -->
    <footer class="text-center py-12 md:py-20 mt-12 md:mt-20 text-gray-500 text-sm">
        <a href="../legal.html" class="hover:underline" data-key="footer_impressum">Impressum & Datenschutz</a>
        <p class="text-xs text-gray-400" data-key="footer_copyright"><a href="../legal.html" class="hover:underline" data-key="footer_impressum">Impressum & Datenschutz</a>&copy; 2025 Demoteam Andermatt. All Rights Reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const yearSpan = document.getElementById('year');
            if (yearSpan) {
                yearSpan.textContent = new Date().getFullYear();
            }
        });
    </script>
</body>
</html>

