<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Journal | DTA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <link rel="stylesheet" href="journal.css">
    <style>
        /* Custom Tailwind styles for that Swedish design feel */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F8F8; /* Off-white for a softer feel */
            color: #1a1a1a;
        }
        .fade-in {
            animation: fadeIn 0.8s ease-in-out forwards;
            opacity: 0;
        }
        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
        /* Staggered fade-in for grid items */
        .journal-grid-item {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.5s ease-out forwards;
        }
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header with Logo and Hamburger Menu -->
    <header class="fixed top-0 left-0 w-full p-6 md:p-8 z-50 flex justify-between items-center mix-blend-difference">
        <a href="/index.html" class="text-white">
            <!-- Simplified Logo -->
            <svg class="h-8 w-auto" width="100" height="35" viewBox="0 0 100 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 35V0H10V5H15V10H20V15H25V20H20V25H15V30H10V35H0Z" fill="currentColor"/>
                <path d="M40 35V0H50V5H55V10H60V15H65V20H60V25H55V30H50V35H40Z" fill="currentColor"/>
                <path d="M80 35V0H90V5H95V10H100V15H95V20H90V25H85V30H80V35Z" fill="currentColor"/>
            </svg>
        </a>
        <button id="menu-toggle" class="z-50 text-white">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
            </svg>
        </button>
    </header>

    <!-- Fullscreen Navigation Menu -->
    <nav id="menu-overlay" class="fixed top-0 left-0 w-full h-full bg-[#1a1a1a] flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-500 ease-in-out">
        <div class="text-center text-gray-200">
            <a href="/index.html" class="block text-4xl md:text-6xl font-light uppercase py-4 transition-colors hover:text-white">Home</a>
            <a href="/journal.html" class="block text-4xl md:text-6xl font-light uppercase py-4 transition-colors hover:text-white">Journal</a>
            <a href="#" class="block text-4xl md:text-6xl font-light uppercase py-4 transition-colors hover:text-white">Projects</a>
            <a href="#" class="block text-4xl md:text-6xl font-light uppercase py-4 transition-colors hover:text-white">Contact</a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-6 md:px-8 pt-24 md:pt-32">
        <h1 class="text-5xl md:text-7xl font-light mb-12 md:mb-20 fade-in">Journal</h1>

        <!-- Dynamic Journal Grid -->
        <div id="journal-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12">
            <!-- Journal entries will be loaded here by JavaScript -->
        </div>
    
    <!-- Partners Section -->
    <section class="py-20 partners-on-light" id="partners">
      <div class="container mx-auto px-6">
        <h2 class="text-3xl md:text-5xl font-bold text-center mb-12" data-key="partners_title">Our Partners</h2>
        <div id="partners-grid" class="partners-grid grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8 items-center"></div>
      </div>
    </section>
    <script>
    (function() {
      async function loadPartners() {
        const grid = document.getElementById('partners-grid');
        if (!grid) return;
        try {
          const res = await fetch('../assets/images/partners/partners.json', { cache: 'no-store' });
          const partners = await res.json();
          // Render anchors with inline SVG/IMG markup
          partners.forEach(p => {
            const a = document.createElement('a');
            a.href = p.href || '#';
            a.setAttribute('aria-label', p.name || 'Partner');
            a.className = 'group aspect-[3/2] md:aspect-[4/3] bg-transparent';
            const span = document.createElement('span');
            span.className = 'partner-logo';
            // Insert SVG markup string if provided, else fallback to <img src="...">
            if (p.svg && typeof p.svg === 'string' && p.svg.trim().startsWith('<')) {
              span.innerHTML = p.svg;
            } else if (p.src) {
              const img = document.createElement('img');
              img.src = p.src;
              img.alt = p.name || 'Partner logo';
              img.loading = 'lazy';
              span.appendChild(img);
            } else {
              span.textContent = p.name || 'Partner';
            }
            a.appendChild(span);
            grid.appendChild(a);
          });
        } catch (e) {
          console.error('Partners load failed:', e);
          grid.innerHTML = '<p class="text-red-500">Could not load partners.</p>';
        }
      }
      document.addEventListener('DOMContentLoaded', loadPartners);
    })();
    </script>
    
</main>

    <!-- Footer -->
    <footer class="text-center py-12 md:py-20 mt-12 md:mt-20 text-gray-500 text-sm">
        <p>&copy; <span id="year"></span> DTA. All Rights Reserved.</p>
    </footer>

    <script src="journal.js"></script>
</body>
</html>
