<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Journal | DTA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="journal.css">
    <script src="../shared-header.js" data-base=".." data-target="site-header" data-header-theme="light" defer></script>
    <script src="../script.js" defer></script>
    <script src="journal.js" defer></script>
    <style>
        /* Custom Tailwind styles for that Swedish design feel */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F8F8; /* Off-white for a softer feel */
            color: #1a1a1a;
        }
        .fade-in {
            animation: fadeIn 0.8s ease-in-out forwards;
            opacity: 0;
        }
        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header with Logo and Navigation -->
    <div id="site-header"></div>
    <main class="container mx-auto px-6 pt-24 md:pt-32">
        <h1 class="text-5xl md:text-7xl font-light mb-12 md:mb-20 fade-in text-center">Journal</h1>

        <!-- Dynamic Journal Grid -->
        <div id="journal-grid" class="flex flex-col gap-12 md:gap-16">
            <!-- Journal entries will be loaded here by JavaScript -->
        </div>

        <template id="journal-card-template">
          <a class="group flex flex-col md:flex-row gap-6 md:gap-10 items-center" href="#">
            <div class="w-full md:w-1/2 overflow-hidden rounded-2xl shadow-lg bg-white">
              <img data-el="image" src="" alt="" class="w-full h-full object-cover aspect-[16/10] md:aspect-[4/3] group-hover:scale-105 transition-transform duration-500" loading="lazy">
            </div>
            <div class="w-full md:w-1/2 flex flex-col gap-3 text-left">
              <p data-el="date" class="text-xs uppercase tracking-[0.15em] text-gray-500"></p>
              <h2 data-el="title" class="text-2xl md:text-3xl font-semibold text-gray-900"></h2>
              <p data-el="caption" class="text-gray-700 leading-relaxed"></p>
              <span class="inline-flex items-center gap-2 text-orange-500 font-medium">Read more
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                </svg>
              </span>
            </div>
          </a>
        </template>
    </main>

    <!-- Partners Section -->
   <section class="py-20 partners-on-light" id="partners">
     <div class="container mx-auto px-6">
       <h2 class="text-3xl md:text-5xl font-bold text-center mb-12" data-key="partners_title">Our Partners</h2>
       <p class="text-neutral-300 text-center max-w-3xl mx-auto -mt-8 mb-12" data-key="partners_subtitle">
         Our journey would not be possible without the generous support of our partners.
       </p>
       <div id="partners-grid" class="partners-grid grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8 items-center"></div>
     </div>
   </section>
    <script>
    (function() {
      async function loadPartners() {
        const grid = document.getElementById('partners-grid');
        if (!grid) return;
        try {
          const res = await fetch('../assets/images/partners/partners.json', { cache: 'no-store' });
          const partners = await res.json();
          // Render anchors with inline SVG/IMG markup
          partners.forEach(p => {
            const a = document.createElement('a');
            a.href = p.href || '#';
            a.setAttribute('aria-label', p.name || 'Partner');
            a.className = 'group aspect-[3/2] md:aspect-[4/3] bg-transparent';
            const span = document.createElement('span');
            span.className = 'partner-logo';
            // Insert SVG markup string if provided, else fallback to <img src="...">
            if (p.svg && typeof p.svg === 'string' && p.svg.trim().startsWith('<')) {
              span.innerHTML = p.svg;
            } else if (p.src) {
              const img = document.createElement('img');
              img.src = p.src;
              img.alt = p.name || 'Partner logo';
              img.loading = 'lazy';
              span.appendChild(img);
            } else {
              span.textContent = p.name || 'Partner';
            }
            a.appendChild(span);
            grid.appendChild(a);
          });
        } catch (e) {
          console.error('Partners load failed:', e);
          grid.innerHTML = '<p class="text-red-500">Could not load partners.</p>';
        }
      }
      document.addEventListener('DOMContentLoaded', loadPartners);
    })();
    </script>
    
    <!-- Footer -->
    <footer class="text-center py-12 md:py-20 mt-12 md:mt-20 text-gray-500 text-sm">
        <a href="../legal.html" class="hover:underline" data-key="footer_impressum">Impressum & Datenschutz</a>
        <p class="text-xs text-gray-400" data-key="footer_copyright"><a href="../legal.html" class="hover:underline" data-key="footer_impressum">Impressum & Datenschutz</a>&copy; 2025 Demoteam Andermatt. All Rights Reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const yearSpan = document.getElementById('year');
            if (yearSpan) {
                yearSpan.textContent = new Date().getFullYear();
            }
        });
    </script>
</body>
</html>

